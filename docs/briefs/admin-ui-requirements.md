# Admin UI ‚Äî –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

> **–°—Ç–∞—Ç—É—Å**: Released v1.0
> **–î–∞—Ç–∞**: 2026-02-23
> **–ú–æ–¥—É–ª—å**: Admin Module (src/admin-module)

## 1. –û–±–∑–æ—Ä

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Admin Module ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Storage Elements, —Ñ–∞–π–ª–æ–≤—ã–º
—Ä–µ–µ—Å—Ç—Ä–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Artstore.

UI –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –±–∏–Ω–∞—Ä–Ω–∏–∫ Admin Module (—á–µ—Ä–µ–∑ `embed.FS`),
–æ—Ç–¥–µ–ª—å–Ω—ã–π frontend-—Å–µ—Ä–≤–µ—Ä –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

## 2. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –†–∞–∑–º–µ—Ä |
|-----------|-----------|--------|
| –®–∞–±–ª–æ–Ω—ã | **Templ** (—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ Go-—à–∞–±–ª–æ–Ω—ã) | compile-time |
| –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (AJAX) | **HTMX 2.x** | ~14 KB |
| –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | **Alpine.js** | ~17 KB |
| –ì—Ä–∞—Ñ–∏–∫–∏ | **ApexCharts** | ~50 KB |
| CSS-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ | **Tailwind CSS v4** | compile-time |
| Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | SSE —á–µ—Ä–µ–∑ HTMX extension | ‚Äî |
| –î–µ–ø–ª–æ–π | `embed.FS` –≤ Go-–±–∏–Ω–∞—Ä–Ω–∏–∫ | ‚Äî |

**–°–±–æ—Ä–∫–∞**: `templ generate && go build` ‚Äî –±–µ–∑ Node.js –≤ runtime.

### 2.1. –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞

- **Templ** –≤–º–µ—Å—Ç–æ `html/template`: —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–æ—à–∏–±–∫–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏),
  –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –≤ IDE, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- **HTMX**: AJAX-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ HTML-–∞—Ç—Ä–∏–±—É—Ç—ã, –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è JavaScript.
  SSE extension –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Alpine.js**: –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–º–æ–¥–∞–ª–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º)
  –±–µ–∑ —Ç—è–∂—ë–ª–æ–≥–æ SPA-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- **ApexCharts**: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **Tailwind CSS v4**: utility-first CSS —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π design tokens

## 3. –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: Dark Green

```css
/* –§–æ–Ω (—Å–ª–æ–∏) */
--bg-base:      #0a0f0a;    /* –ø–æ—á—Ç–∏ —á—ë—Ä–Ω—ã–π —Å –∑–µ–ª—ë–Ω—ã–º –æ—Ç—Ç–µ–Ω–∫–æ–º */
--bg-surface:   #111c11;    /* –æ—Å–Ω–æ–≤–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å, –∫–∞—Ä—Ç–æ—á–∫–∏ */
--bg-elevated:  #1a2e1a;    /* –ø—Ä–∏–ø–æ–¥–Ω—è—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –º–æ–¥–∞–ª–∫–∏ */
--bg-hover:     #243824;    /* hover-—Å–æ—Å—Ç–æ—è–Ω–∏–µ */

/* –¢–µ–∫—Å—Ç */
--text-primary:   #e8f5e8;  /* –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
--text-secondary: #9cb89c;  /* –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç */
--text-muted:     #5a7a5a;  /* –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç */

/* –ê–∫—Ü–µ–Ω—Ç—ã (Brand/Action) */
--accent-primary:   #22c55e; /* emerald-500, –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç */
--accent-light:     #4ade80; /* green-400, hover */
--accent-bright:    #86efac; /* green-300, –≤—ã–¥–µ–ª–µ–Ω–∏–µ */
--accent-lime:      #a3e635; /* lime-400, –≤—Ç–æ—Ä–∏—á–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç */

/* –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ */
--success:  #22c55e;  /* green-500 */
--warning:  #eab308;  /* yellow-500 */
--error:    #ef4444;  /* red-500 */
--info:     #3b82f6;  /* blue-500 */

/* Borders */
--border-default: #1e3a1e;
--border-accent:  #22c55e33; /* –∑–µ–ª—ë–Ω—ã–π —Å opacity */

/* –†–µ–∂–∏–º—ã SE */
--mode-edit: #22c55e; /* –∑–µ–ª—ë–Ω—ã–π */
--mode-rw:   #3b82f6; /* —Å–∏–Ω–∏–π */
--mode-ro:   #eab308; /* –∂—ë–ª—Ç—ã–π */
--mode-ar:   #6b7280; /* —Å–µ—Ä—ã–π */
```

### 3.1. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–º—É –¥–∏–∑–∞–π–Ω—É

- **Sidebar**: `bg-base`, –∞–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç —Å `accent-primary` –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
- **–ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫**: `bg-surface` —Å `border-accent` –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π
- **–ì—Ä–∞—Ñ–∏–∫–∏**: –ª–∏–Ω–∏–∏ `accent-primary`, –∑–∞–ª–∏–≤–∫–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∫ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–º—É
- **–¢–∞–±–ª–∏—Ü—ã**: —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–¥—É—é—Ç—Å—è –º–µ–∂–¥—É `bg-surface` –∏ `bg-elevated`
- **–ö–Ω–æ–ø–∫–∏ primary**: `accent-primary` —Ñ–æ–Ω; secondary ‚Äî `bg-elevated` + `accent-primary` border
- **–°—Ç–∞—Ç—É—Å—ã SE**: online = `accent-bright`, degraded = `warning`, offline = `error`,
  maintenance = `info`

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

```
üìä Dashboard          ‚Äî –û–±–∑–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
üñ•Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥         ‚Äî –î–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –≥—Ä–∞—Ñ–∏–∫–∏ latency, –∞–ª–µ—Ä—Ç—ã
üíæ Storage Elements   ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏
üìÅ –§–∞–π–ª—ã              ‚Äî –§–∞–π–ª–æ–≤—ã–π —Ä–µ–µ—Å—Ç—Ä
üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ [tab] –∏ Service Accounts [tab]
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏          ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è UI (Prometheus –∏ –¥—Ä.) [admin only]
```

## 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º

### 5.1. Dashboard (/)

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-D1 | –ö–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ SE (–ø–æ —Å—Ç–∞—Ç—É—Å–∞–º), —Ñ–∞–π–ª–æ–≤ (–ø–æ —Ä–µ–∂–∏–º–∞–º SE), –æ–±—ä—ë–º —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (used/total %) | P0 |
| FR-D2 | –°—Ç–∞—Ç—É—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: PostgreSQL, Keycloak (—Å—Ç–∞—Ç—É—Å + latency), real-time —á–µ—Ä–µ–∑ SSE | P0 |
| FR-D3 | –ö—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫ SE —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π mode/status | P0 |
| FR-D4 | –ì—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø–æ SE (horizontal bar chart, ApexCharts) | P1 |
| FR-D5 | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ SE (donut chart) | P1 |
| FR-D6 | –î–æ—Å—Ç—É–ø: admin –∏ readonly | P0 |

### 5.2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (/monitoring)

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-M1 | –ó–¥–æ—Ä–æ–≤—å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: PostgreSQL, Keycloak, –∫–∞–∂–¥—ã–π SE ‚Äî —Å—Ç–∞—Ç—É—Å, latency, real-time SSE | P0 |
| FR-M2 | –ì—Ä–∞—Ñ–∏–∫–∏ latency –∫ –∫–∞–∂–¥–æ–º—É SE (line chart, –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥) | P1 |
| FR-M3 | –ì—Ä–∞—Ñ–∏–∫–∏ latency PostgreSQL –∏ Keycloak (line chart) | P1 |
| FR-M4 | –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á: file sync, SA sync, dep health check ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫, —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∏–Ω—Ç–µ—Ä–≤–∞–ª | P0 |
| FR-M5 | –ê–ª–µ—Ä—Ç—ã: SE offline/degraded, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, SE –∑–∞–ø–æ–ª–Ω–µ–Ω >N% | P1 |
| FR-M6 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø–æ SE (stacked bar chart) | P1 |
| FR-M7 | –î–æ—Å—Ç—É–ø: admin –∏ readonly | P0 |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ latency –±–µ—Ä—É—Ç—Å—è –∏–∑ Prometheus-–º–µ—Ç—Ä–∏–∫
(`app_dependency_latency_seconds`). –î–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω—É–∂–µ–Ω SSE endpoint, –∫–æ—Ç–æ—Ä—ã–π
–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫.

### 5.3. Storage Elements (/storage-elements)

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-SE1 | –¢–∞–±–ª–∏—Ü–∞ SE: –∏–º—è, URL, mode (—Ü–≤–µ—Ç), status (—Ü–≤–µ—Ç), capacity bar, —Ñ–∞–π–ª–æ–≤, latency, last sync | P0 |
| FR-SE2 | Discover: –≤–≤–æ–¥ URL, –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö SE (modal) | P0 |
| FR-SE3 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: –ø–æ—Å–ª–µ discover ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ + full sync —Ñ–∞–π–ª–æ–≤ | P0 |
| FR-SE4 | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∏–º—è, –æ–ø–∏—Å–∞–Ω–∏–µ, URL (mode/status —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ sync) | P0 |
| FR-SE5 | –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ SE | P0 |
| FR-SE6 | –ú–∞—Å—Å–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö SE | P1 |
| FR-SE7 | –£–¥–∞–ª–µ–Ω–∏–µ SE (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º, –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–∞–π–ª–æ–≤) | P0 |
| FR-SE8 | –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ SE: –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –Ω–∞ SE, –∏—Å—Ç–æ—Ä–∏—è sync | P1 |
| FR-SE9 | –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ mode, status) | P1 |
| FR-SE10 | Live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ SSE | P1 |
| FR-SE11 | –§–∏–ª—å—Ç—Ä—ã: –ø–æ mode, status. –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/URL | P0 |
| FR-SE12 | –†–æ–ª—å: readonly ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä; admin ‚Äî –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | P0 |

### 5.4. –§–∞–π–ª—ã (/files)

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-F1 | –¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤: –∏–º—è, —Ä–∞–∑–º–µ—Ä, —Ç–∏–ø (content_type), SE, uploaded_by, –¥–∞—Ç–∞, —Å—Ç–∞—Ç—É—Å | P0 |
| FR-F2 | –ü–∞–≥–∏–Ω–∞—Ü–∏—è | P0 |
| FR-F3 | –§–∏–ª—å—Ç—Ä—ã: status (active/deleted/expired), retention (permanent/temporary), SE, content_type | P0 |
| FR-F4 | –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ | P0 |
| FR-F5 | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –∏–º—è, —Ä–∞–∑–º–µ—Ä, –¥–∞—Ç–∞ | P1 |
| FR-F6 | Modal —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞ (–≤—Å–µ –ø–æ–ª—è: checksum, tags, description –∏ —Ç.–¥.) | P0 |
| FR-F7 | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (description, tags) ‚Äî —Ç–æ–ª—å–∫–æ admin | P1 |
| FR-F8 | Soft delete —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º ‚Äî —Ç–æ–ª—å–∫–æ admin | P0 |
| FR-F9 | –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å ¬´–ø–æ–∫–∞–∑–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã–µ¬ª ‚Äî —Ç–æ–ª—å–∫–æ admin | P1 |
| FR-F10 | –†–æ–ª—å: readonly ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä; admin ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ | P0 |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤ ‚Äî –∑–∞–¥–∞—á–∞ Query Module. –í v1 —Ñ–∞–π–ª–æ–≤—ã–π
–º–µ–Ω–µ–¥–∂–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ (file_registry –≤ PostgreSQL).

### 5.5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (/access)

#### Tab: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-U1 | –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–∑ Keycloak): username, email, groups, effective role, enabled | P0 |
| FR-U2 | –§–∏–ª—å—Ç—Ä—ã: –ø–æ —Ä–æ–ª–∏ (admin/readonly), –ø–æ —Å—Ç–∞—Ç—É—Å—É (enabled/disabled). –ü–æ–∏—Å–∫ –ø–æ username/email | P0 |
| FR-U3 | –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (modal): –≥—Ä—É–ø–ø—ã IdP, IdP role, override, effective role | P0 |
| FR-U4 | Role override ‚Äî –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ä–æ–ª–∏ (readonly ‚Üí admin) ‚Äî —Ç–æ–ª—å–∫–æ admin | P0 |
| FR-U5 | –£–¥–∞–ª–µ–Ω–∏–µ role override ‚Äî —Ç–æ–ª—å–∫–æ admin | P0 |
| FR-U6 | –†–æ–ª—å: readonly ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä; admin ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ role overrides | P0 |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Keycloak. Admin Module
–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö –¥–∞–Ω–Ω—ã–µ –∏ –º–æ–∂–µ—Ç –¥–æ–ø–æ–ª–Ω—è—Ç—å —Ä–æ–ª—å —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É role_overrides.
–ú–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ–≤—ã—Å–∏—Ç—å —Ä–æ–ª—å (readonly ‚Üí admin), –Ω–µ –ø–æ–Ω–∏–∑–∏—Ç—å.

#### Tab: Service Accounts

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-SA1 | –¢–∞–±–ª–∏—Ü–∞ SA: client_id, name, scopes, status, last_synced_at | P0 |
| FR-SA2 | –°–æ–∑–¥–∞–Ω–∏–µ SA (modal): name, description, scopes. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ secret –æ–¥–∏–Ω —Ä–∞–∑ + copy-to-clipboard | P0 |
| FR-SA3 | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SA: name, description, scopes, status (active/suspended) ‚Äî —Ç–æ–ª—å–∫–æ admin | P0 |
| FR-SA4 | –†–æ—Ç–∞—Ü–∏—è secret: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –ø–æ–∫–∞–∑ –æ–¥–∏–Ω —Ä–∞–∑ + copy-to-clipboard ‚Äî —Ç–æ–ª—å–∫–æ admin | P0 |
| FR-SA5 | –£–¥–∞–ª–µ–Ω–∏–µ SA: —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º ‚Äî —Ç–æ–ª—å–∫–æ admin | P0 |
| FR-SA6 | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è SA —Å Keycloak (–∫–Ω–æ–ø–∫–∞) ‚Äî —Ç–æ–ª—å–∫–æ admin | P1 |
| FR-SA7 | –°—Ç–∞—Ç—É—Å IdP (–±–ª–æ–∫): connected/disconnected, last sync | P0 |
| FR-SA8 | –§–∏–ª—å—Ç—Ä –ø–æ status. –ü–æ–∏—Å–∫ –ø–æ name/client_id | P0 |

## 6. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| NFR-1 | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Keycloak (Authorization Code + PKCE, –∫–ª–∏–µ–Ω—Ç `artstore-admin-ui`) | P0 |
| NFR-2 | RBAC: admin (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø), readonly (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä) | P0 |
| NFR-3 | Responsive layout (sidebar collapse –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö/–ø–ª–∞–Ω—à–µ—Ç–∞—Ö) | P1 |
| NFR-4 | –í—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã —á–µ—Ä–µ–∑ `embed.FS` ‚Äî –æ–¥–∏–Ω –±–∏–Ω–∞—Ä–Ω–∏–∫ | P0 |
| NFR-5 | –¢—ë–º–Ω–∞—è –∑–µ–ª—ë–Ω–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è light/dark –≤ v1) | P0 |
| NFR-6 | SSE –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (—Å—Ç–∞—Ç—É—Å—ã SE, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏) | P1 |
| NFR-7 | –°–±–æ—Ä–∫–∞: `templ generate && go build` (–±–µ–∑ Node.js –≤ runtime) | P0 |
| NFR-8 | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤: Chrome/Edge/Firefox/Safari –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –≤–µ—Ä—Å–∏–∏ | P1 |

## 7. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è)

### 7.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
src/admin-module/
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ api/                          # REST API (JSON) ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generated/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ ui/                           # Admin UI (HTML) ‚Äî –Ω–æ–≤—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layouts/                  # base.templ, sidebar.templ, header.templ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                    # dashboard.templ, monitoring.templ, ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/               # stat_card.templ, table.templ, modal.templ, ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/                 # HTTP handlers –¥–ª—è UI-—Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ static/                   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã (embed.FS)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ css/                  # tailwind output, custom styles
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ js/                   # htmx.min.js, alpine.min.js, apexcharts.min.js
‚îÇ   ‚îî‚îÄ‚îÄ ...
```

### 7.2. –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```go
r := chi.NewRouter()

// REST API (JSON) ‚Äî —Ç–µ–∫—É—â–∏–π –∫–æ–¥, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
r.Route("/api/v1", func(r chi.Router) { ... })

// Admin UI (HTML) ‚Äî –Ω–æ–≤—ã–π –∫–æ–¥
r.Route("/admin", func(r chi.Router) {
    r.Use(uiAuthMiddleware)       // Keycloak OIDC (Authorization Code + PKCE)
    r.Get("/", uiHandlers.Dashboard)
    r.Get("/monitoring", uiHandlers.Monitoring)
    r.Get("/storage-elements", uiHandlers.SEList)
    r.Get("/storage-elements/{id}", uiHandlers.SEDetail)
    r.Get("/files", uiHandlers.FileList)
    r.Get("/access", uiHandlers.AccessManagement)

    // HTMX partial endpoints (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã HTML)
    r.Route("/partials", func(r chi.Router) { ... })

    // SSE endpoints –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    r.Route("/events", func(r chi.Router) { ... })
})

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ç—ã
r.Handle("/static/*", http.FileServer(http.FS(staticFS)))
```

### 7.3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è UI

–î–ª—è UI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **OAuth 2.0 Authorization Code + PKCE** (–Ω–µ Client Credentials):

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/admin`
2. Middleware –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ session cookie
3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî redirect –Ω–∞ Keycloak login page
4. –ü–æ—Å–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Äî callback `/admin/callback` –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç code –Ω–∞ tokens
5. Access token —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ HTTP-only cookie (–∏–ª–∏ server-side session)
6. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ UI –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ middleware, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç token

Keycloak –∫–ª–∏–µ–Ω—Ç: `artstore-admin-ui` (public client, Authorization Code + PKCE).

## 8. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ API

UI v1 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ** API endpoints Admin Module. –ù–æ–≤—ã–µ API endpoints
–Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º:

| –ù–æ–≤—ã–π endpoint | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------------|-----------|
| `GET /admin/events/system-status` | SSE: —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ SE (real-time) |
| `GET /admin/events/se-updates` | SSE: –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ SE |
| `GET /admin/partials/*` | HTMX partial responses (—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã HTML) |

–í—Å–µ –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É service layer (–Ω–µ —á–µ—Ä–µ–∑ HTTP API,
–∞ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Go-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤).

### 8.2. –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è UI

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----------|
| –¢–∞–±–ª–∏—Ü–∞ `ui_settings` + –º–∏–≥—Ä–∞—Ü–∏—è | –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ UI (Prometheus –∏ –¥—Ä.) |
| `UISettingsRepository` | CRUD –¥–ª—è `ui_settings` |
| `UISettingsService` | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| `PrometheusClient` | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è PromQL API |
| OIDC callback handler | OAuth 2.0 Authorization Code + PKCE flow |
| Session middleware | –ü—Ä–æ–≤–µ—Ä–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö cookies |

## 9. –û—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –ü—Ä–∏—á–∏–Ω–∞ | –û–∂–∏–¥–∞–µ–º–∞—è –≤–µ—Ä—Å–∏—è |
|---------|---------|-----------------|
| Audit Log (—Ç–∞–±–ª–∏—Ü–∞ + API + UI) | –¢—Ä–µ–±—É–µ—Ç –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã, –º–∏–≥—Ä–∞—Ü–∏–∏, API ‚Äî –±–æ–ª—å—à–æ–π scope | v2 |
| Batch-–æ–ø–µ—Ä–∞—Ü–∏–∏ (bulk delete, export CSV/JSON) | –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è v1 | v2 |
| –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ | –ñ–¥—ë—Ç Query Module | v2 |
| –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å light/dark —Ç–µ–º–∞ | –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ | v2 |
| Drag-and-drop –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã SE | –°–ª–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ HTMX | v2 |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (push, email, telegram) | –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ | v3 |

## 10. –†–µ—à–µ–Ω–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º

### 10.1. Tailwind CSS —Å–±–æ—Ä–∫–∞

**–†–µ—à–µ–Ω–∏–µ**: **Tailwind Standalone CLI** ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Node.js.

- –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ (~30 MB), –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `.gitignore`
- –ö–æ–º–∞–Ω–¥–∞: `tailwindcss -i input.css -o output.css --minify`
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Makefile: `make css` –ø–µ—Ä–µ–¥ `templ generate && go build`
- –í Docker multi-stage: —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏

### 10.2. –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π UI

**–†–µ—à–µ–Ω–∏–µ**: **–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ HTTP-only cookies** (stateless).

- Access token + refresh token –æ—Ç Keycloak —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ AES-GCM –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º cookie
- –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è ‚Äî env-–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `AM_UI_SESSION_SECRET` (32 –±–∞–π—Ç–∞)
- –ï—Å–ª–∏ `AM_UI_SESSION_SECRET` –Ω–µ –∑–∞–¥–∞–Ω ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (random 32 bytes).
  –°–µ—Å—Å–∏–∏ —Å–±—Ä–æ—Å—è—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø–æ–¥–∞, –Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/–º–∞–ª—ã—Ö –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–π –¥–æ–ø—É—Å—Ç–∏–º–æ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –≤ –ë–î, –Ω–µ –Ω—É–∂–µ–Ω cleanup expired sessions
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–æ–¥–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–µ—Å—Å–∏–π (–ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω–æ–º –∫–ª—é—á–µ)
- Cookie –∞—Ç—Ä–∏–±—É—Ç—ã: `HttpOnly`, `Secure`, `SameSite=Lax`, `Path=/admin`
- Refresh: –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ access token ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh —á–µ—Ä–µ–∑ Keycloak

### 10.3. Prometheus –∫–∞–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ**: Prometheus ‚Äî **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

- –ï—Å–ª–∏ Prometheus –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã –≥—Ä–∞—Ñ–∏–∫–∏ latency, –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏
- –ï—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (–∏–∑
  topologymetrics –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ Prometheus —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **PostgreSQL** (—Ç–∞–±–ª–∏—Ü–∞ `ui_settings`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª **¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª** –≤ UI (–¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ admin)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Prometheus**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|---------|-------------|
| `prometheus_url` | URL Prometheus API (–Ω–∞–ø—Ä–∏–º–µ—Ä `http://prometheus:9090`) | ‚Äî (–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω) |
| `prometheus_enabled` | –í–∫–ª—é—á–µ–Ω–∞ –ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | `false` |
| `prometheus_query_timeout` | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Prometheus | `10s` |
| `metrics_retention_period` | –ü–µ—Ä–∏–æ–¥ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤) | `24h` |

**–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏**: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—É–Ω–∫—Ç ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª (—Ç–æ–ª—å–∫–æ –¥–ª—è admin):

```
üìä Dashboard
üñ•Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
üíæ Storage Elements
üìÅ –§–∞–π–ª—ã
üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏              ‚Üê –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç (admin only)
```

### 10.4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª (/settings)

| ID | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|-----------|-----------|
| FR-S1 | –†–∞–∑–¥–µ–ª ¬´Prometheus¬ª: URL, enabled, timeout, retention period | P1 |
| FR-S2 | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Prometheus (–∫–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å¬ª) | P1 |
| FR-S3 | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ PostgreSQL (—Ç–∞–±–ª–∏—Ü–∞ `ui_settings`) | P1 |
| FR-S4 | –î–æ—Å—Ç—É–ø: —Ç–æ–ª—å–∫–æ admin | P0 |

**–¢–∞–±–ª–∏—Ü–∞ `ui_settings`** (key-value —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π):

```sql
CREATE TABLE ui_settings (
    key        TEXT PRIMARY KEY,
    value      TEXT NOT NULL,
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_by TEXT NOT NULL
);
```

## 11. –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ SE –≤ —Å–∏—Å—Ç–µ–º–µ**: –¥–µ—Å—è—Ç–∫–∏ –∏–ª–∏ —Å–æ—Ç–Ω–∏? –í–ª–∏—è–µ—Ç –Ω–∞ –ø–æ–¥—Ö–æ–¥ –∫ SSE –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
   —Ç–∞–±–ª–∏—Ü. (–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º –¥–µ—Å—è—Ç–∫–∏ ‚Äî –¥–æ 50 SE.)
