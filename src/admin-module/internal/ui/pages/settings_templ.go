// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"github.com/bigkaa/goartstore/admin-module/internal/ui/layouts"
)

// SettingsData — данные для страницы настроек.
type SettingsData struct {
	Username   string
	Role       string
	Prometheus PrometheusSettings
}

// PrometheusSettings — настройки Prometheus.
type PrometheusSettings struct {
	URL             string // URL Prometheus сервера
	Enabled         bool   // Включён ли Prometheus
	Timeout         string // Таймаут запросов (e.g. "10s")
	RetentionPeriod string // Период хранения (e.g. "7d")
}

// Settings — страница настроек Admin UI (admin only).
func Settings(data SettingsData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!-- Результат действия --> <div id=\"settings-action-result\" class=\"mb-4\"></div><!-- Prometheus --> <div class=\"card mb-6\"><div class=\"flex items-center space-x-3 mb-6\"><div class=\"w-10 h-10 rounded-lg bg-accent-primary/10 flex items-center justify-center\"><svg class=\"w-5 h-5 text-accent-primary\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z\"></path></svg></div><div><h2 class=\"text-lg font-semibold text-text-primary\">Prometheus</h2><p class=\"text-sm text-text-muted\">Конфигурация подключения к Prometheus для исторических графиков latency</p></div></div><form hx-put=\"/admin/partials/settings-prometheus\" hx-target=\"#settings-action-result\" hx-swap=\"innerHTML\" class=\"space-y-4\"><!-- URL --><div><label for=\"prometheus_url\" class=\"block text-sm font-medium text-text-secondary mb-1\">URL Prometheus</label> <input type=\"url\" id=\"prometheus_url\" name=\"prometheus_url\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(data.Prometheus.URL)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/ui/pages/settings.templ`, Line: 65, Col: 33}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" placeholder=\"http://prometheus:9090\" class=\"w-full px-3 py-2 bg-bg-base border border-border-default rounded-button text-text-primary text-sm placeholder-text-muted focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary\"><p class=\"text-xs text-text-muted mt-1\">Полный URL Prometheus сервера (включая протокол)</p></div><!-- Enabled toggle --><div class=\"flex items-center justify-between\"><div><label for=\"prometheus_enabled\" class=\"text-sm font-medium text-text-secondary\">Включить Prometheus</label><p class=\"text-xs text-text-muted\">Активировать сбор и отображение метрик из Prometheus</p></div><div x-data=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(promEnabledData(data.Prometheus.Enabled))
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/ui/pages/settings.templ`, Line: 80, Col: 59}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "\"><input type=\"hidden\" name=\"prometheus_enabled\" x-bind:value=\"enabled ? 'true' : 'false'\"> <button type=\"button\" x-on:click=\"enabled = !enabled\" x-bind:class=\"enabled ? 'bg-accent-primary' : 'bg-bg-base'\" class=\"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2 focus:ring-offset-bg-surface\"><span x-bind:class=\"enabled ? 'translate-x-6' : 'translate-x-1'\" class=\"inline-block h-4 w-4 transform rounded-full bg-white transition-transform\"></span></button></div></div><!-- Timeout --><div><label for=\"prometheus_timeout\" class=\"block text-sm font-medium text-text-secondary mb-1\">Таймаут запросов</label> <input type=\"text\" id=\"prometheus_timeout\" name=\"prometheus_timeout\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(data.Prometheus.Timeout)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/ui/pages/settings.templ`, Line: 105, Col: 37}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" placeholder=\"10s\" class=\"w-full px-3 py-2 bg-bg-base border border-border-default rounded-button text-text-primary text-sm placeholder-text-muted focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary\"><p class=\"text-xs text-text-muted mt-1\">Формат: 5s, 10s, 30s, 1m</p></div><!-- Retention Period --><div><label for=\"prometheus_retention_period\" class=\"block text-sm font-medium text-text-secondary mb-1\">Период хранения для графиков</label> <input type=\"text\" id=\"prometheus_retention_period\" name=\"prometheus_retention_period\" value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(data.Prometheus.RetentionPeriod)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/ui/pages/settings.templ`, Line: 121, Col: 45}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\" placeholder=\"7d\" class=\"w-full px-3 py-2 bg-bg-base border border-border-default rounded-button text-text-primary text-sm placeholder-text-muted focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary\"><p class=\"text-xs text-text-muted mt-1\">Формат: 1h, 6h, 24h, 7d, 30d</p></div><!-- Кнопки --><div class=\"flex items-center space-x-3 pt-4 border-t border-border-subtle\"><button type=\"submit\" class=\"px-4 py-2 bg-accent-primary hover:bg-accent-hover text-white text-sm font-medium rounded-button transition-colors\">Сохранить</button> <button type=\"button\" hx-post=\"/admin/partials/settings-prometheus-test\" hx-target=\"#settings-action-result\" hx-swap=\"innerHTML\" class=\"px-4 py-2 bg-bg-elevated hover:bg-bg-hover text-text-secondary hover:text-text-primary text-sm font-medium rounded-button transition-colors border border-border-default\">Проверить подключение</button></div></form></div><!-- Информация о системе --> <div class=\"card\"><h2 class=\"text-lg font-semibold text-text-primary mb-4\">Информация о системе</h2><div class=\"space-y-3\"><div class=\"flex items-center justify-between py-2 border-b border-border-subtle\"><span class=\"text-sm text-text-secondary\">Модуль</span> <span class=\"text-sm text-text-primary font-medium\">Admin Module</span></div><div class=\"flex items-center justify-between py-2 border-b border-border-subtle\"><span class=\"text-sm text-text-secondary\">Пользователь</span> <span class=\"text-sm text-text-primary\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(data.Username)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/ui/pages/settings.templ`, Line: 159, Col: 60}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "</span></div><div class=\"flex items-center justify-between py-2\"><span class=\"text-sm text-text-secondary\">Роль</span> <span class=\"text-sm text-text-primary\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 string
			templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(data.Role)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/ui/pages/settings.templ`, Line: 163, Col: 56}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "</span></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = layouts.Page(layouts.PageParams{
			Title:     "Настройки",
			Username:  data.Username,
			Role:      data.Role,
			ActiveNav: "settings",
			Breadcrumbs: []layouts.BreadcrumbItem{
				{Label: "Настройки"},
			},
		}).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// promEnabledData — x-data для toggle Prometheus.
func promEnabledData(enabled bool) string {
	if enabled {
		return "{ enabled: true }"
	}
	return "{ enabled: false }"
}

var _ = templruntime.GeneratedTemplate
